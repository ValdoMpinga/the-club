<!DOCTYPE html>
<html>
 <head>
    <script src="https://aframe.io/releases/1.0.0/aframe.min.js"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.7.4/socket.io.js"
      integrity="sha512-tE1z+95+lMCGwy+9PnKgUSIeHhvioC9lMlI7rLWU0Ps3XTdjRygLcy4mLuL0JAoK4TLdQEyP0yOl/9dMOqpH/Q=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
 </head>

 <body>
    <a-scene>
      <a-sky src="./assets/images/club.jpg"></a-sky>
      <a-box test-component></a-box>
      <a-box id="box" material="color: red"></a-box>

      <a-entity
        camera
        look-controls
        wasd-controls="acceleration: 600"
        position="0 3 5"
      >
        <a-camera>
          <a-cursor></a-cursor>
        </a-camera>
      </a-entity>
      <a-sphere position="0 4 -4"></a-sphere>
      <a-plane
        width="100"
        height="100"
        color="#888888"
        rotation="-90 0 0"
      ></a-plane>
    </a-scene>
 </body>
<script>
 const socket = io('http://localhost:3000');

 // Listen for 'newUser' event from the server
 socket.on('newUser', () => {
    // Generate a random x-coordinate between -10 and 10
    const x = Math.random() * 20 - 10;

    // Create a new sphere
    const sphere = document.createElement('a-sphere');
    sphere.setAttribute('position', `${x} 4 -4`);
    document.querySelector('a-scene').appendChild(sphere);

    // Emit an 'addEntity' event to the server
    socket.emit('addEntity', {
       id: 'generatedSphere',
       position: `${x} 4 -4`
    });
 });
</script>
</html>
